"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[913],{6913:function(e,t,s){s.r(t),s.d(t,{default:function(){return ve}});var n=s(1413),o=s(2791),i=s(885),a=s(5987),l=s(5861),r=s(7757),c=s.n(r),u={content:"ProfileInfo_content__WvIkr",img:"ProfileInfo_img__sOWJz",edit:"ProfileInfo_edit__pO3h5"},d=s(8426),h=s(184),x=function(e){var t=e.contactTitle,s=e.contactValue;return(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{children:[t,": "]})," ",(0,h.jsx)("td",{children:s})]})},f="ProfileData_userInfo__6Mdf2",m="ProfileData_edit__cWAkh";var v=s.p+"static/media/edit.b96db9c8079a9d0f5502e0804b93b4c7.svg",p=function(e){var t=e.profile,s=e.isOwner,n=e.activateEditMode;return(0,h.jsxs)("div",{className:f,children:[(0,h.jsxs)("table",{children:[(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"Full name:"}),(0,h.jsx)("td",{children:null===t||void 0===t?void 0:t.fullName})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"Looking for a job:"}),(0,h.jsx)("td",{children:null!==t&&void 0!==t&&t.lookingForAJob?"yes":"no"})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"My professional skills:"}),(0,h.jsx)("td",{children:null===t||void 0===t?void 0:t.lookingForAJobDescription})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"About me:"}),(0,h.jsx)("td",{children:null===t||void 0===t?void 0:t.aboutMe})]}),(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:2,children:(0,h.jsx)("b",{children:"Contacts"})})}),(null===t||void 0===t?void 0:t.contacts)&&Object.keys(t.contacts).map((function(e){return(0,h.jsx)(x,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),(0,h.jsx)("div",{children:s&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:m,onClick:n,children:(0,h.jsx)("img",{src:v,alt:""})})})})]})},j=s(5705),b=s(8240),_=s(9578),N=s(5881),k=s(4423),g="ProfileDataForm_checkbox__q2iYW",F="ProfileDataForm_formErrors__2zuLP",Z="ProfileDataForm_label__nw7wG",P="ProfileDataForm_item__LTiRE",y="ProfileDataForm_input__ul3JR",S="ProfileDataForm_button__+8Sdm",C="ProfileDataForm_contacts__VQOet",A=s(5523),w=s(9174),B=s(7997),I=s(5032),M=function(e){var t=e.profile,s=e.submit;return(0,h.jsx)("div",{children:(0,h.jsx)(j.J9,{initialValues:{userId:t.userId,contacts:t.contacts,fullName:t.fullName||"",lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription||"",aboutMe:t.aboutMe||""},onSubmit:function(e,t){s(e,t.setStatus)},children:function(e){e.errors,e.touched;var s=e.status,n=e.values,o=e.handleChange,i=(0,b.hd)(t);return null===s||void 0===s||s.errors.map((function(e){i.map((function(t){e.toLowerCase().includes(t.toLowerCase())}))})),(0,h.jsxs)(j.l0,{children:[(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("label",{className:Z,htmlFor:"fullName",children:"Full name:"}),(0,h.jsx)("div",{id:"user-input-block",className:"".concat(_.Z.inputBlock," ").concat(y),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(j.gN,{id:"fullName",className:_.Z.inputField,type:"text",name:"fullName",placeholder:"Enter user name"})})]}),(0,h.jsxs)("div",{className:P,children:[(0,h.jsxs)("label",{className:Z,htmlFor:"lookingForAJob",children:["Looking for a job:"," "]}),(0,h.jsx)("div",{className:g,children:(0,h.jsx)(A.Z,{control:(0,h.jsx)(w.Z,{defaultChecked:!0,name:"lookingForAJob",id:"lookingForAJob",checked:n.lookingForAJob,onChange:o,sx:{color:k.e2,"&.Mui-checked":{color:k.yv,backgroundColor:k.z}}}),label:"",sx:{"& .MuiSvgIcon-root":{fontSize:23}}})})]}),(0,h.jsxs)("div",{className:P,children:[(0,h.jsxs)("label",{className:Z,htmlFor:"lookingForAJobDescription",children:["My professional skills:"," "]}),(0,h.jsx)("div",{id:"skills-input-block",className:"".concat(_.Z.inputBlock," ").concat(y),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(B.Z,{className:_.Z.inputField,placeholder:"Enter your skills",id:"lookingForAJobDescription",value:n.lookingForAJobDescription,multiline:!0,maxRows:10,name:"lookingForAJobDescription",onChange:o})})]}),(0,h.jsxs)("div",{className:P,children:[(0,h.jsxs)("label",{className:Z,htmlFor:"aboutMe",children:["About me:"," "]}),(0,h.jsx)("div",{id:"about-input-block",className:"".concat(_.Z.inputBlock," ").concat(y),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(B.Z,{className:_.Z.inputField,placeholder:"Enter your skills",id:"aboutMe",value:n.aboutMe,multiline:!0,maxRows:10,name:"aboutMe",onChange:o})})]}),(0,h.jsxs)("div",{className:C,children:["Contacts:",t.contacts&&Object.keys(t.contacts).length>0&&Object.keys(t.contacts).map((function(e,t){return(0,h.jsxs)("div",{className:P,children:[(0,h.jsxs)("label",{className:Z,htmlFor:"".concat(e),children:[e,":"," "]}),(0,h.jsx)("div",{className:"".concat(_.Z.inputBlock," ").concat(y," "),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(j.gN,{id:"".concat(e),className:_.Z.inputField,type:"text",name:"contacts.".concat(e),placeholder:"Enter your contact"})},t)]},t)}))]}),null!==s&&void 0!==s&&s.errors?(0,h.jsx)("div",{className:"".concat(I.Z.errorBlock," ").concat(F),children:s.errors.map((function(e,t){return(0,h.jsx)("div",{className:I.Z.error,children:e},t)}))}):null,(0,h.jsx)("div",{className:"".concat(I.Z.buttonBlock," ").concat(S),children:(0,h.jsx)("button",{className:I.Z.loginButton,type:"submit",children:"Save Changes"})})]})}})})},J=function(e){var t=e.profile,s=(e.savePhoto,e.saveProfile),n=e.isOwner,a=(e.status,e.updateStatus,(0,o.useState)(!1)),r=(0,i.Z)(a,2),x=r[0],f=r[1];if(!t)return(0,h.jsx)(d.Z,{});var m=function(){var e=(0,l.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,n);case 2:f(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return(0,h.jsx)("div",{className:u.userInfo,children:x?(0,h.jsx)(M,{profile:t,submit:m}):(0,h.jsx)(p,{profile:t,activateEditMode:function(){return f(!0)},isOwner:n})})},D=s(4550),O="MyPosts_posts__6EdvY",z="MyPost_title__U5GPB",T="MyPost_post__mJkyw",E="MyPost_postText__Q4PC-",R="MyPost_likes__CMh0Q",L=s(7237),V=function(e){var t=e.message,s=e.likesCount,n=e.title;return(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("div",{className:z,children:n}),(0,h.jsx)("p",{className:E,children:t}),(0,h.jsxs)("div",{className:R,children:[(0,h.jsx)(L.Z,{sx:{color:k.z}})," ",(0,h.jsxs)("span",{children:[" ",s]})]})]})},G=s(7960),U=s(7078),q=function(e){var t=e.submit,s=(0,j.TA)({initialValues:{post:"",title:""},validationSchema:(0,G.V)("post"),onSubmit:function(e){t(e.post,e.title),s.resetForm()}});return(0,h.jsx)("div",{children:(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("label",{className:Z,htmlFor:"title",children:"Title:"}),(0,h.jsx)("div",{className:"".concat(_.Z.inputBlock," ").concat(y),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(U.Z,(0,n.Z)({className:_.Z.inputField,type:"title",placeholder:"Enter post title",id:"title-input"},s.getFieldProps("title")))})]}),(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("label",{className:Z,htmlFor:"title",children:"Post:"}),(0,h.jsx)("div",{id:"post-input-block",className:"".concat(_.Z.inputBlock," ").concat(y),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(e){return(0,N.u)(e,k.yv)},children:(0,h.jsx)(B.Z,(0,n.Z)({className:_.Z.inputField,type:"post",placeholder:"Enter your post",id:"post-input",multiline:!0,maxRows:20},s.getFieldProps("post")))})]}),(0,h.jsx)("div",{className:"".concat(I.Z.buttonBlock," ").concat(S),children:(0,h.jsx)("button",{className:I.Z.loginButton,type:"submit",children:"Add post"})})]})})},W=function(e){var t=e.addPost,s=e.posts.map((function(e){return(0,h.jsx)(V,{message:e.message,likesCount:e.likesCount,title:e.title},e.id)}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:"New post"}),(0,h.jsx)(q,{submit:function(e,s){t(e,s)}})]}),(0,h.jsx)("div",{className:O,children:s})]})},Q=s(8687),Y=(0,Q.$j)((function(e){return{posts:e.profileReducer.posts}}),(function(e){return{addPost:function(t,s){e((0,D.Wl)(t,s))}}}))(W),$=s(4554),K=s(5228),H=s(3896),X=s(890),ee={file:"Avatar_file__nTm5e",userAvatar:"Avatar_userAvatar__Yy4q+",avatar:"Avatar_avatar__hugrn"},te=s(4342),se="ProfileStatus_status__OsgcT",ne="ProfileStatus_statusInput__GlKmV",oe="ProfileStatus_profileStatus__I1Jwq",ie=function(e){var t=(0,o.useState)(!1),s=(0,i.Z)(t,2),n=s[0],a=s[1],l=(0,o.useState)(e.status),r=(0,i.Z)(l,2),c=r[0],u=r[1];(0,o.useEffect)((function(){u(e.status)}),[]);return(0,h.jsx)("div",{className:oe,children:n?(0,h.jsx)("div",{id:"status-input-block",className:"".concat(_.Z.inputBlock," ").concat(ne),onFocus:function(e){return(0,N.u)(e,k.z)},onBlur:function(t){return function(t){(0,N.u)(t,k.yv),a(!1),e.updateStatus(c)}(t)},children:(0,h.jsx)(B.Z,{className:_.Z.inputField,id:"status",value:c,multiline:!0,maxRows:5,onChange:function(e){u(e.target.value)},autoFocus:!0})}):(0,h.jsx)("div",{className:se,children:(0,h.jsx)("span",{onDoubleClick:function(){a(!0),u(e.status)},children:e.status})})})};var ae=s.p+"static/media/editPoint.5a22b5d21f3c4dbce102b4c096f68131.svg",le=s(3768),re=function(e){var t,s=e.savePhoto,n=e.isOwner,o=e.profile,i=e.status,a=e.updateStatus,l=ee.file;return(0,h.jsxs)("div",{className:ee.userAvatar,children:[(0,h.jsxs)("div",{className:ee.avatar,children:[(0,h.jsx)("img",{src:(null===o||void 0===o||null===(t=o.photos)||void 0===t?void 0:t.large)||te,alt:""}),n&&(0,h.jsx)("input",{type:"file",className:l,onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&s(e.target.files[0])}})]}),(0,h.jsx)(ie,{status:i,updateStatus:a}),(0,h.jsx)("div",{className:ee.edit,children:(0,h.jsx)(le.Z,{disableFocusListener:!0,disableTouchListener:!0,title:"Double click on the text to change the status",children:(0,h.jsx)("img",{src:ae,alt:""})})})]})},ce="Profile_profileData__gqURe",ue=s(5232),de=s(813),he=["children","value","index"];function xe(e){var t=e.children,s=e.value,o=e.index,i=(0,a.Z)(e,he);return(0,h.jsx)("div",(0,n.Z)((0,n.Z)({role:"tabpanel",hidden:s!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},i),{},{children:s===o&&(0,h.jsx)($.Z,{sx:{p:3},children:(0,h.jsx)(X.Z,{children:t})})}))}var fe=function(e){var t=e.profile,s=e.status,n=e.updateStatus,a=e.isOwner,l=e.savePhoto,r=e.saveProfile,c=(0,o.useState)(0),u=(0,i.Z)(c,2),d=u[0],x=u[1];return(0,h.jsxs)("main",{children:[(0,h.jsx)(re,{savePhoto:l,isOwner:a,profile:t,status:s,updateStatus:n}),(0,h.jsx)("div",{className:ce,children:(0,h.jsxs)($.Z,{sx:{width:"100%"},children:[(0,h.jsx)($.Z,{sx:{borderBottom:1,borderColor:"divider",color:k.z},children:(0,h.jsxs)(K.Z,{value:d,onChange:function(e,t){x(t)},"aria-label":"icon label tabs example",TabIndicatorProps:{sx:{backgroundColor:k.z}},sx:{"& button":{color:k.z},"& button.Mui-selected":{color:k.z},"& button:focus":{color:k.z}},children:[(0,h.jsx)(H.Z,{icon:(0,h.jsx)(ue.Z,{}),label:"PROFILE"}),(0,h.jsx)(H.Z,{icon:(0,h.jsx)(de.Z,{}),label:"POSTS"})]})}),(0,h.jsx)(xe,{value:d,index:0,children:(0,h.jsx)(J,{profile:t,status:s,updateStatus:n,isOwner:a,savePhoto:l,saveProfile:r})}),(0,h.jsx)(xe,{value:d,index:1,children:(0,h.jsx)(Y,{})})]})})]})},me=s(9271),ve=(0,s(7781).qC)((0,Q.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authUserId:e.authReducer.userId,isAuth:e.authReducer.isAuth}}),{getProfileTC:D.GA,getStatusTC:D.GP,updateStatusTC:D.OG,savePhoto:D.Ju,saveProfile:D.Ii}),me.EN)((function(e){var t=(0,me.UO)();return(0,o.useEffect)((function(){var s=t.userId;s||(s="".concat(e.authUserId),e.authUserId||e.history.push("/login")),e.getProfileTC(s),e.getStatusTC(s)}),[t.userId]),(0,h.jsx)("div",{children:(0,h.jsx)(fe,(0,n.Z)((0,n.Z)({},e),{},{isOwner:!!e.match.params.userId,profile:e.profile,status:e.status,updateStatus:e.updateStatusTC,savePhoto:e.savePhoto,saveProfile:e.saveProfile}))})}))}}]);
//# sourceMappingURL=913.7e36ad2a.chunk.js.map